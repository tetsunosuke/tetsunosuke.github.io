<html>
    <body>
        <h1>社内ツール</h1>
        <h2>勤労の獅子</h2>
        <ul>
            <li> 
                <p>右のリンクをブックマークバーにドラッグしてください: <a href='javascript:(function(){var $thead=document.querySelector("#id_suihei_kotei_thead");var $target=document.querySelector("#id_data_table_body");var nodes=document.querySelectorAll("#getuji_scroll tbody tr td");htmlTag=document.getElementsByTagName("html");htmlTag[0].innerHTML="";var table_kyuka=document.createElement("table");var tr=document.createElement("tr");var tmp;var values=["残有給",nodes[5].textContent,"残振休",nodes[8].textContent];for(i in values){tmp=document.createElement("td");tmp.appendChild(document.createTextNode(values[i]));tr.appendChild(tmp)}table_kyuka.appendChild(tr);var table_kintai=document.createElement("table");table_kintai.appendChild(document.createElement("thead").appendChild($thead));table_kintai.appendChild($target);document.body.appendChild(table_kyuka);document.body.appendChild(table_kintai)})();'>勤労の獅子チェックデータ作成</a></p>
            </li>
        </ul>
        <h2>ジョブカン</h2>
        <p>受け取りが二社に別れている・賞与がないなどで計算が実行されない場合は個別にお問い合わせください（ツールに関しては人事総務部伊藤哲之輔まで）</p>
        <ul>
            <li> 
                <p>右のリンクをブックマークバーにドラッグしてください: <a href='javascript:(function() %7B!function()%7B"use strict"%3Bconst e%3D(new Date).getYear()%2B1900%2B"",t%3D"株式会社フォトクリエイト"%3D%3D%3Ddocument.querySelector(%27%5Bhref%3D"/clients/offices"%5D%27).innerText,a%3Ddocument.createElement("div")%3Ba.style%3D"width:80%25%3Bz-index:9999%3Btext-align:center%3Bposition:absolute%3Bleft:100%3Btop:100%3Bbackground-color:%23FFF%3Bmargin:50px%3Bpadding:50px%3B",a.innerHTML%3D"<p>読込中</p>"%3Bconst n%3Ddocument.querySelector("header")%3Bdocument.querySelector("body")%3Bn.appendChild(a)%3Bconst o%3DJSON.parse(ReactRailsUJS.findDOMNodes("div")%5B0%5D.dataset.reactProps),r%3Do.values.all_payrolls.filter(t%3D>t.payment_date.substring(0,4)%3D%3D%3De).reduce((e,t)%3D>(e.push(t.income_tax_related_amount_exclude_no_exemption_commuting),e),%5B%5D),l%3D2*o.values.all_payrolls.filter(t%3D>t.payment_date.substring(0,7)%3D%3D%3De%2B"-10").reduce((e,t)%3D>e%2B%3Dt.income_tax_related_amount_exclude_no_exemption_commuting,0)%2Br.reduce((e,t)%3D>e%2Bt,0),_%3Do.values.all_payrolls.filter(t%3D>t.payment_date.substring(0,4)%3D%3D%3De).sort().reverse().map(e%3D>"10"!%3D%3De.payment_date.substring(5,7)%3F%60%24%7Be.label%7D 総支給額: (%24%7Be.payment_amount%7D) - 非課税通勤手当(%24%7Be.payment_amount-e.income_tax_related_amount_exclude_no_exemption_commuting%7D) %3D %24%7Be.income_tax_related_amount_exclude_no_exemption_commuting%7D%60:%60%24%7Be.label%7D (総支給額: (%24%7Be.payment_amount%7D) - 非課税通勤手当(%24%7Be.payment_amount-e.income_tax_related_amount_exclude_no_exemption_commuting%7D)) ✕ 3 %3D %24%7B3*e.income_tax_related_amount_exclude_no_exemption_commuting%7D%60).join("%5Cn"),u%3D%60<h1>トータル金額：%24%7Bl%7D</h1>%5Cn<hr/>%5Cn<p>計算式です</p>%5Cn<div>%5Cn<textarea rows%3D"15" cols%3D"80">%24%7B_%7D</textarea>%5Cn</div>%60%3Ba.innerHTML%3Du,fetch("/employees/my_data/bonus").then(e%3D>e.text()).then(n%3D>%7Bconst o%3D(new DOMParser).parseFromString(n,"text/html").querySelector("div").getAttribute("data-react-props"),r%3DJSON.parse(o)%3Bif("not_found"%3D%3D%3Dr.error_status)return%3Bconst u%3Dr.values.all_bonus.filter(t%3D>t.pay_on.substring(0,4)%3D%3D%3De)%3Bif(0%3D%3D%3Du.length)return%3Blet i%3Dr.values.all_bonus.filter(t%3D>t.pay_on.substring(0,7)%3D%3D%3De%2B"-05"),m%3D0%3Bi.length>0%26%26(m%3Di%5B0%5D.total_taxable_target_amount)%3Bconst s%3Dm>0%3F(t%3Fr.values.all_bonus.filter(t%3D>t.pay_on.substring(0,7)%3D%3D%3De%2B"-05")%5B0%5D.total_taxable_target_amount:0)-0:0,c%3Du.reduce((e,t)%3D>(e.push(t.total_taxable_target_amount),e),%5B%5D).reduce((e,t)%3D>e%2Bt,0)%2Bs,d%3Du.map(t%3D>s>0%26%26t.pay_on.substring(0,7)%3D%3D%3De%2B"-05"%3F%60%24%7Bt.label.trim()%7D : %24%7Bt.total_taxable_target_amount%7D ✕ 2 %3D %24%7B2*t.total_taxable_target_amount%7D%60:%60%24%7Bt.label.trim()%7D %3D %24%7Bt.total_taxable_target_amount%7D%60).join("%5Cn"),p%3D%60<h1>トータル金額：%24%7Bl%2Bc%7D (%24%7Bl%7D %2B %24%7Bc%7D)</h1>%5Cn    <hr/>%5Cn    <p>計算式です</p>%5Cn    <div>%5Cn    <textarea rows%3D"15" cols%3D"80">%24%7B_%7D%5Cn%24%7Bd%7D</textarea>%5Cn    </div>%60%3Ba.innerHTML%3Dp%7D)%7D()%3B%7D)()%3B'>
                ジョブカン年末調整金額算出
                </a>
            </li>
            <li> 
                <p>右のリンクをブックマークバーにドラッグしてください: <a href="javascript:(function() {const%20year%3D(new%20Date).getYear()%2B1900%2B%22%22%2CofficeSelector%3D'%5Bhref%3D%22%2Fclients%2Foffices%22%5D'%2CisPhotocreate%3D%22%E6%A0%AA%E5%BC%8F%E4%BC%9A%E7%A4%BE%E3%83%95%E3%82%A9%E3%83%88%E3%82%AF%E3%83%AA%E3%82%A8%E3%82%A4%E3%83%88%22%3D%3D%3Ddocument.querySelector(officeSelector).innerText%2Cdiv%3Ddocument.createElement(%22div%22)%3Bdiv.style%3D%22width%3A80%25%3Bz-index%3A9999%3Btext-align%3Acenter%3Bposition%3Aabsolute%3Bleft%3A100%3Btop%3A100%3Bbackground-color%3A%23FFF%3Bmargin%3A50px%3Bpadding%3A50px%3B%22%2Cdiv.innerHTML%3D%22%3Cp%3E%E8%AA%AD%E8%BE%BC%E4%B8%AD%3C%2Fp%3E%22%3Bconst%20header%3Ddocument.querySelector(%22header%22)%2Cbody%3Ddocument.querySelector(%22body%22)%3Bheader.appendChild(div)%3Bconst%20json%3DJSON.parse(ReactRailsUJS.findDOMNodes(%22div%22)%5B0%5D.dataset.reactProps)%2Cpayment_list%3Djson.values.all_payrolls.filter(e%3D%3Ee.payment_date.substring(0%2C4)%3D%3D%3Dyear).reduce((e%2Ct)%3D%3E(e.push(t.income_tax_related_amount_exclude_no_exemption_commuting)%2Ce)%2C%5B%5D)%2Coct_payment%3Djson.values.all_payrolls.filter(e%3D%3Ee.payment_date.substring(0%2C7)%3D%3D%3Dyear%2B%22-10%22).reduce((e%2Ct)%3D%3Ee%2B%3Dt.income_tax_related_amount_exclude_no_exemption_commuting%2C0)%2Ctotal%3D2*oct_payment%2Bpayment_list.reduce((e%2Ct)%3D%3Ee%2Bt%2C0)%2Cformula%3Djson.values.all_payrolls.filter(e%3D%3Ee.payment_date.substring(0%2C4)%3D%3D%3Dyear).sort().reverse().map(e%3D%3E%2210%22!%3D%3De.payment_date.substring(5%2C7)%3F%60%24%7Be.label%7D%20%E7%B7%8F%E6%94%AF%E7%B5%A6%E9%A1%8D%3A%20(%24%7Be.payment_amount%7D)%20-%20%E9%9D%9E%E8%AA%B2%E7%A8%8E%E9%80%9A%E5%8B%A4%E6%89%8B%E5%BD%93(%24%7Be.payment_amount-e.income_tax_related_amount_exclude_no_exemption_commuting%7D)%20%3D%20%24%7Be.income_tax_related_amount_exclude_no_exemption_commuting%7D%60%3A%60%24%7Be.label%7D%20(%E7%B7%8F%E6%94%AF%E7%B5%A6%E9%A1%8D%3A%20(%24%7Be.payment_amount%7D)%20-%20%E9%9D%9E%E8%AA%B2%E7%A8%8E%E9%80%9A%E5%8B%A4%E6%89%8B%E5%BD%93(%24%7Be.payment_amount-e.income_tax_related_amount_exclude_no_exemption_commuting%7D))%20%E2%9C%95%203%20%3D%20%24%7B3*e.income_tax_related_amount_exclude_no_exemption_commuting%7D%60).join(%22%5Cn%22)%2CinnerHtml%3D%60%3Ch1%3E%E3%83%88%E3%83%BC%E3%82%BF%E3%83%AB%E9%87%91%E9%A1%8D%EF%BC%9A%24%7Btotal%7D%3C%2Fh1%3E%5Cn%3Chr%2F%3E%5Cn%3Cp%3E%E8%A8%88%E7%AE%97%E5%BC%8F%E3%81%A7%E3%81%99%3C%2Fp%3E%5Cn%3Cdiv%3E%5Cn%3Ctextarea%20rows%3D%2215%22%20cols%3D%2280%22%3E%24%7Bformula%7D%3C%2Ftextarea%3E%5Cn%3C%2Fdiv%3E%60%3Bdiv.innerHTML%3DinnerHtml%2Cfetch(%22%2Femployees%2Fmy_data%2Fbonus%22).then(e%3D%3Ee.text()).then(e%3D%3E%7Bconst%20t%3D(new%20DOMParser).parseFromString(e%2C%22text%2Fhtml%22).querySelector(%22div%22).getAttribute(%22data-react-props%22)%2Ca%3DJSON.parse(t)%3Bif(%22not_found%22%3D%3D%3Da.error_status)return%3Bconst%20n%3Da.values.all_bonus.filter(e%3D%3Ee.pay_on.substring(0%2C4)%3D%3D%3Dyear)%3Bif(0%3D%3D%3Dn.length)return%3Blet%20o%3Da.values.all_bonus.filter(e%3D%3Ee.pay_on.substring(0%2C7)%3D%3D%3Dyear%2B%22-04%22)%2Cr%3D0%3Bo.length%3E0%26%26(r%3Do%5B0%5D)%3Bconst%20l%3Dr%3E0%3F(isPhotocreate%3Fa.values.all_bonus.filter(e%3D%3Ee.pay_on.substring(0%2C7)%3D%3D%3Dyear%2B%22-04%22)%5B0%5D.total_taxable_target_amount%3A0)-0%3A0%2C_%3Dn.reduce((e%2Ct)%3D%3E(e.push(t.total_taxable_target_amount)%2Ce)%2C%5B%5D).reduce((e%2Ct)%3D%3Ee%2Bt%2C0)%2Bl%2Ci%3Dn.map(e%3D%3El%3E0%26%26e.pay_on.substring(0%2C7)%3D%3D%3Dyear%2B%22-04%22%3F%60%24%7Be.label.trim()%7D%20%3A%20%24%7Be.total_taxable_target_amount%7D%20%E2%9C%95%202%20%3D%20%24%7B2*e.total_taxable_target_amount%7D%60%3A%60%24%7Be.label.trim()%7D%20%3D%20%24%7Be.total_taxable_target_amount%7D%60).join(%22%5Cn%22)%2Cm%3D%60%3Ch1%3E%E3%83%88%E3%83%BC%E3%82%BF%E3%83%AB%E9%87%91%E9%A1%8D%EF%BC%9A%24%7Btotal%2B_%7D%20(%24%7Btotal%7D%20%2B%20%24%7B_%7D)%3C%2Fh1%3E%5Cn%20%20%20%20%3Chr%2F%3E%5Cn%20%20%20%20%3Cp%3E%E8%A8%88%E7%AE%97%E5%BC%8F%E3%81%A7%E3%81%99%3C%2Fp%3E%5Cn%20%20%20%20%3Cdiv%3E%5Cn%20%20%20%20%3Ctextarea%20rows%3D%2215%22%20cols%3D%2280%22%3E%24%7Bformula%7D%5Cn%24%7Bi%7D%3C%2Ftextarea%3E%5Cn%20%20%20%20%3C%2Fdiv%3E%60%3Bdiv.innerHTML%3Dm%7D)%3B})();">
                ジョブカン年末調整金額算出（上がうまく行かなかった人向け）
                </a>
            </li>
        </ul>
        <div>
            <p>ブックマークレットは <a href="https://affectionate-cori-9216d0.netlify.app/">ブックマークレットメーカー</a>で作成しています.</p>
        </div>
    </body>
</html>
